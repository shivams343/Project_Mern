{"ast":null,"code":"import _slicedToArray from\"C:\\\\Users\\\\Rakesh Roshan\\\\Desktop\\\\Project_mern\\\\server\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState,useContext}from'react';import{Link,useHistory}from'react-router-dom';import{user,UserContext}from'../../App';import M from'materialize-css';var SignIn=function SignIn(){var _useContext=useContext(UserContext),state=_useContext.state,dispatch=_useContext.dispatch;var history=useHistory();var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var PostData=function PostData(){if(!/^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/.test(email)){M.toast({html:\"invalid email\",classes:\"#c62828 red darken-3\"});return;}fetch(\"/signin\",{method:\"post\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({email:email,password:password})}).then(function(res){return res.json();}).then(function(data){console.log(data);if(data.error){M.toast({html:data.error,classes:\"#c62828 red darken-3\"});}else{localStorage.setItem(\"jwt\",data.token);localStorage.setItem(\"user\",JSON.stringify(data.user));dispatch({type:\"USER\",payload:data.user});M.toast({html:\"signedin successful\",classes:\"#00e676 green accent-3\"});history.push('/');}}).catch(function(err){console.log(err);});};return/*#__PURE__*/React.createElement(\"div\",{className:\"mycard\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card auth-card input-fields\"},/*#__PURE__*/React.createElement(\"h2\",null,\"HUBX\"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",placeholder:\"email\",value:email,onChange:function onChange(e){return setEmail(e.target.value);}}),/*#__PURE__*/React.createElement(\"input\",{type:\"password\",placeholder:\"password\",value:password,onChange:function onChange(e){return setPassword(e.target.value);}}),/*#__PURE__*/React.createElement(\"button\",{className:\"btn waves-effect waves-light\",onClick:function onClick(){return PostData();}},\"Login\"),/*#__PURE__*/React.createElement(\"h5\",null,/*#__PURE__*/React.createElement(Link,{to:\"/signup\"},\"Dont have an Account ?\"))));};export default SignIn;","map":{"version":3,"sources":["C:/Users/Rakesh Roshan/Desktop/Project_mern/server/client/src/components/screens/SignIn.js"],"names":["React","useState","useContext","Link","useHistory","user","UserContext","M","SignIn","state","dispatch","history","email","setEmail","password","setPassword","PostData","test","toast","html","classes","fetch","method","headers","body","JSON","stringify","then","res","json","data","console","log","error","localStorage","setItem","token","type","payload","push","catch","err","e","target","value"],"mappings":"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","sourcesContent":["import React,{useState,useContext} from 'react'\r\nimport {Link,useHistory} from 'react-router-dom'\r\nimport {user, UserContext} from '../../App'\r\nimport M from 'materialize-css'\r\n\r\nconst SignIn = ()=>{\r\n    const {state,dispatch} = useContext(UserContext)\r\n    const history = useHistory()\r\n    const [email,setEmail] = useState(\"\")\r\n    const [password,setPassword] = useState(\"\")\r\n    const PostData=()=>{\r\n        if(!/^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/.test(email)){\r\n            M.toast({html:\"invalid email\",classes:\"#c62828 red darken-3\"})\r\n            return\r\n        }\r\n            fetch(\"/signin\",{\r\n            method:\"post\",\r\n            headers:{\r\n                \"Content-Type\":\"application/json\"\r\n            },\r\n            body:JSON.stringify({\r\n                email,\r\n                password\r\n            })\r\n        }).then(res=>res.json())\r\n        .then(data=>{\r\n             console.log(data)\r\n            if(data.error){\r\n                M.toast({html:data.error,classes:\"#c62828 red darken-3\"})\r\n            }\r\n            else{\r\n                localStorage.setItem(\"jwt\",data.token)\r\n                localStorage.setItem(\"user\",JSON.stringify(data.user))\r\n                dispatch({type:\"USER\",payload:data.user})\r\n                M.toast({html:\"signedin successful\",classes:\"#00e676 green accent-3\"})\r\n                history.push('/')\r\n            }\r\n        }).catch(err=>{\r\n            console.log(err)\r\n        })\r\n    }\r\n\r\n    return(\r\n        <div className=\"mycard\">\r\n            <div className=\"card auth-card input-fields\">\r\n               <h2>HUBX</h2>\r\n               <input type=\"text\" placeholder=\"email\" \r\n               value={email}\r\n               onChange={(e)=>setEmail(e.target.value)}\r\n               />\r\n               <input type=\"password\" placeholder=\"password\" \r\n               value={password}\r\n               onChange={(e)=>setPassword(e.target.value)}\r\n               />\r\n               <button className=\"btn waves-effect waves-light\"\r\n                onClick={()=>PostData()}>Login\r\n                </button>\r\n                <h5>\r\n                    <Link to=\"/signup\">Dont have an Account ?</Link>\r\n                </h5>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SignIn\r\n"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import _slicedToArray from\"C:\\\\Users\\\\Rakesh Roshan\\\\Desktop\\\\Project_mern\\\\server\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{Link,useHistory}from'react-router-dom';import M from'materialize-css';var CreatePost=function CreatePost(){var history=useHistory();var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),title=_useState2[0],setTitle=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),body=_useState4[0],setBody=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),contact=_useState6[0],setContact=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),location=_useState8[0],setLocation=_useState8[1];var postDetails=function postDetails(){var data=new FormData();fetch(\"/createpost\",{method:\"post\",headers:{\"Content-Type\":\"application/json\",\"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\")},body:JSON.stringify({title:title,body:body,contact:contact,location:location})}).then(function(res){return res.json();}).then(function(data){console.log(data);if(data.error){M.toast({html:data.error,classes:\"#c62828 red darken-3\"});}else{M.toast({html:\"Post Created Successful\",classes:\"#00e676 green accent-3\"});history.push('/');}}).catch(function(err){console.log(err);});};return/*#__PURE__*/React.createElement(\"div\",{className:\"card input-filed\",style:{margin:\"10px auto\",maxWidth:\"500px\",padding:\"20px\",textAlign:\"center\"}},/*#__PURE__*/React.createElement(\"input\",{type:\"text\",placeholder:\"Title\",value:title,onChange:function onChange(e){return setTitle(e.target.value);}}),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",placeholder:\"Body\",value:body,onChange:function onChange(e){return setBody(e.target.value);}}),/*#__PURE__*/React.createElement(\"input\",{type:\"number\",placeholder:\"Contact\",value:contact,onChange:function onChange(e){return setContact(e.target.value);}}),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",placeholder:\"Location\",value:location,onChange:function onChange(e){return setLocation(e.target.value);}}),/*#__PURE__*/React.createElement(\"button\",{className:\"btn waves-effect waves-light\",onClick:function onClick(){return postDetails();}},\"Submit Post\"));};export default CreatePost;","map":{"version":3,"sources":["C:/Users/Rakesh Roshan/Desktop/Project_mern/server/client/src/components/screens/CreatePost.js"],"names":["React","useState","Link","useHistory","M","CreatePost","history","title","setTitle","body","setBody","contact","setContact","location","setLocation","postDetails","data","FormData","fetch","method","headers","localStorage","getItem","JSON","stringify","then","res","json","console","log","error","toast","html","classes","push","catch","err","margin","maxWidth","padding","textAlign","e","target","value"],"mappings":"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","sourcesContent":["import React,{useState} from 'react'\r\nimport {Link,useHistory} from 'react-router-dom'\r\nimport M from 'materialize-css'\r\n\r\n\r\nconst CreatePost = ()=>{\r\n    const history = useHistory()\r\n    const [title,setTitle] = useState(\"\")\r\n    const [body,setBody] = useState(\"\")\r\n    const [contact,setContact] = useState(\"\")\r\n    const [location,setLocation] = useState(\"\")    \r\n\r\n    const postDetails = ()=>{\r\n        const data = new FormData() \r\n            fetch(\"/createpost\",{\r\n            method:\"post\",\r\n            headers:{\r\n                \"Content-Type\":\"application/json\",\r\n                \"Authorization\":\"Bearer \"+ localStorage.getItem(\"jwt\")\r\n            },\r\n            body:JSON.stringify({\r\n                title,\r\n                body,\r\n                contact,\r\n                location\r\n            })\r\n        }).then(res=>res.json())\r\n        .then(data=>{\r\n             console.log(data)\r\n            if(data.error){\r\n                M.toast({html:data.error,classes:\"#c62828 red darken-3\"})\r\n            }\r\n            else{\r\n                M.toast({html:\"Post Created Successful\",classes:\"#00e676 green accent-3\"})\r\n                history.push('/')\r\n            }\r\n        }).catch(err=>{\r\n            console.log(err)\r\n        })\r\n    }\r\n\r\n    return(\r\n        <div className=\"card input-filed\"\r\n             style={{\r\n                 margin:\"10px auto\",\r\n                 maxWidth:\"500px\",\r\n                 padding:\"20px\",\r\n                 textAlign:\"center\"\r\n             }}\r\n        >\r\n             <input type=\"text\" placeholder=\"Title\"\r\n             value={title}\r\n             onChange={(e)=>setTitle(e.target.value)}\r\n             />\r\n             <input type=\"text\" placeholder=\"Body\"\r\n             value={body}\r\n             onChange={(e)=>setBody(e.target.value)}\r\n             />\r\n             <input type=\"number\" placeholder=\"Contact\"\r\n             value={contact}\r\n             onChange={(e)=>setContact(e.target.value)}\r\n             />\r\n             <input type=\"text\" placeholder=\"Location\"\r\n             value={location}\r\n             onChange={(e)=>setLocation(e.target.value)}\r\n             />\r\n             <button className=\"btn waves-effect waves-light\"\r\n             onClick={()=>postDetails()}>\r\n                 Submit Post\r\n                </button>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default CreatePost"]},"metadata":{},"sourceType":"module"}